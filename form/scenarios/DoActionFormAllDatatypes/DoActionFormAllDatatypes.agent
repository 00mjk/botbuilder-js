<Agent xmlns:Agent="http://schemas.microsoft.com/ConversationalAgent/1.0">
    <AgentDefinition lang="en-us">

        <Task name="task1" doAction="Form">
            <CodeRecognizer onRun="task_recognizer"></CodeRecognizer>
            <FormRef name="SimpleForm" refTo="SimpleForm" />
        </Task>

        <Form name="SimpleForm">
            
            <!-- Fields -->
            
            <Field entity="entityDateTime" displayName="Datetime" required="true" dataType="DateTime">
                <Constraint type="timex" value="XXXX-XX"/>
                <Constraint type="timex" value="XXXX-XX"/>
            </Field>
            <Field entity="entityNumber" displayName="Number" required="true" dataType="Number">
                <Constraint type="min" value="0"/>
                <Constraint type="max" value="20"/>
            </Field>
            <Field entity="entityPercentage" displayName="Percentage" required="true" dataType="Percentage">
                <Constraint type="min" value="25"/>
                <Constraint type="max" value="75"/>
            </Field>
            <Field entity="entityOrdinal" displayName="Ordinal" required="true" dataType="Ordinal">
                <Constraint type="min" value="1"/>
                <Constraint type="max" value="3"/>
            </Field>
            <Field entity="entityTemperature" displayName="Temperature" required="true" dataType="Temperature">
                <Constraint type="min" value="70"/>
                <Constraint type="max" value="90"/>
            </Field>
            <Field entity="entityAge" displayName="Age" required="true" dataType="Age">
                <Constraint type="min" value="70"/>
                <Constraint type="max" value="90"/>
            </Field>
            <Field entity="entityDimension" displayName="Dimension" required="true" dataType="Dimension">
                <Constraint type="min" value="70"/>
                <Constraint type="max" value="90"/>
            </Field>
            <Field entity="entityCurrency" displayName="Currency" required="true" dataType="Currency">
                <Constraint type="min" value="70"/>
                <Constraint type="max" value="90"/>
            </Field>
            <Field entity="entityString" displayName="String" required="true" dataType="String">
                <Constraint type="min" value="0"/>
                <Constraint type="max" value="8"/>
            </Field>

            <!-- Prompts -->

            <PromptForInput when="builtin.allRequiredFilled">
                <Feedback>OK I have {entityDateTime}, {entityNumber}, {entityPercentage}, {entityOrdinal}, {entityTemperature}, {entityAge}, {entityDimension}, {entityCurrency} and {entityString}. Is this OK?</Feedback>
            </PromptForInput>
            <PromptForInput when="entityDateTime">
                <Feedback>Enter a datetime.</Feedback>
            </PromptForInput>
            <PromptForInput when="entityNumber">
                <Feedback>Enter a number.</Feedback>
            </PromptForInput>
            <PromptForInput when="entityPercentage">
                <Feedback>Enter a percentage.</Feedback>
            </PromptForInput>
            <PromptForInput when="entityOrdinal">
                <Feedback>Enter an ordinal.</Feedback>
            </PromptForInput>
            <PromptForInput when="entityTemperature">
                <Feedback>Enter a temperature.</Feedback>
            </PromptForInput>
            <PromptForInput when="entityAge">
                <Feedback>Enter an age.</Feedback>
            </PromptForInput>
            <PromptForInput when="entityDimension">
                <Feedback>Enter a dimension.</Feedback>
            </PromptForInput>
            <PromptForInput when="entityCurrency">
                <Feedback>Enter a currency.</Feedback>
            </PromptForInput>
            <PromptForInput when="entityString">
                <Feedback>Enter a string.</Feedback>
            </PromptForInput>

            <!-- Actions -->

            <FormAction type="Cancel">
                <CodeRecognizer onRun="builtin.cancel"></CodeRecognizer>
                <Feedback>Okay, I have cancelled your trip.</Feedback>
            </FormAction>
            <FormAction type="Confirm">
                <CodeRecognizer onRun="builtin.confirm"></CodeRecognizer>
                <Feedback>Okay, i have everything I need for right now.</Feedback>
            </FormAction>
            <FormAction type="Help">
                <CodeRecognizer onRun="builtin.help"></CodeRecognizer>
                <Feedback>Say &quot;yes&quot; to confirm your booking or &quot;cancel&quot; to cancel.</Feedback>
            </FormAction>
            <FormAction type="Submit">
                <Process name="process" onRun="submit_process"></Process>
            </FormAction>
            <FormAction type="AddOrUpdate">
                <!-- if a recognizer is not given here the task recognizer should be used -->
                <RegexRecognizer pattern="no-match"></RegexRecognizer>
            </FormAction>

            <!-- reprompt works like an implicit action -->
            <Reprompt>
                <Feedback>If you could please give me a value for [builtin.lastPrompt] that would be great.</Feedback>
            </Reprompt>

        </Form>

    </AgentDefinition>
</Agent>

