<Agent xmlns:Agent="http://schemas.microsoft.com/ConversationalAgent/1.0">
    <AgentDefinition lang="en-us">

        <Task name="task1" doAction="Form">
            <CodeRecognizer onRun="task_recognizer"></CodeRecognizer>
            <FormRef name="SimpleForm" refTo="SimpleForm" />
        </Task>

        <Form name="SimpleForm">
            
            <!-- Fields -->
            
            <Field entity="eggs" displayName="eggs" required="true"></Field>
            <Field entity="side" displayName="side" required="true"></Field>
            <Field entity="bread" displayName="bread" required="true"></Field>

            <!-- Prompts -->

            <PromptForInput when="builtin.allRequiredFilled">
                <Feedback>OK I have {eggs} eggs, a side of {side} and {bread} toast. Ready?</Feedback>
            </PromptForInput>
            <PromptForInput when="eggs">
                <Feedback>How would you like your eggs?</Feedback>
            </PromptForInput>
            <PromptForInput when="side">
                <Feedback>What side would you like?</Feedback>
            </PromptForInput>
            <PromptForInput when="bread">
                <Feedback>And what bread for your toast?</Feedback>
            </PromptForInput>

            <!-- Actions -->

            <FormAction type="Cancel">
                <CodeRecognizer onRun="builtin.cancel"></CodeRecognizer>
                <Feedback>Okay, I have cancelled your order.</Feedback>
            </FormAction>
            <FormAction type="Confirm">
                <CodeRecognizer onRun="builtin.confirm"></CodeRecognizer>
                <Feedback>Okay, preparing your breakfast now...</Feedback>
            </FormAction>
            <FormAction type="Help">
                <CodeRecognizer onRun="builtin.help"></CodeRecognizer>
                <Feedback>Say &quot;yes&quot; to place your order or &quot;cancel&quot; to cancel your order.</Feedback>
            </FormAction>
            <FormAction type="Submit">
                <Process name="process" onRun="submit_process"></Process>
            </FormAction>
            <FormAction type="AddOrUpdate">
                <LUISRecognizer intentID="sendMessage" intentName="sendMessage" appID="ad03f4b8-eafa-48ba-92de-2252331da3bd" key="625fd847495e478e8eeb0fc10ad1489d"></LUISRecognizer>
            </FormAction>

        </Form>

    </AgentDefinition>
</Agent>

