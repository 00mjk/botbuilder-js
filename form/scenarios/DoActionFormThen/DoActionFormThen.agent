<Agent xmlns:Agent="http://schemas.microsoft.com/ConversationalAgent/1.0">
  <AgentDefinition lang="en-us">

    <Task name="task1" triggerType="CodeRecognizer" doAction="Form">
      <CodeRecognizer onRun="recognizeFunc"></CodeRecognizer>
      <FormRef name="TwoVariables" refTo="TwoVariables" />
    </Task>

    <Form name="TwoVariables">

        <!-- Fields -->

        <Field entity="odd" required="true" preserveInGlobal="true"></Field>
        <Field entity="even" required="true" preserveInGlobal="true"></Field>

        <!-- Prompts -->

        <PromptForInput when="builtin.anyRequiredMissing">
            <Feedback>Please provide values for [builtin.requiredFieldsMissing]</Feedback>
        </PromptForInput>

        <PromptForInput when="builtin.allRequiredFilled">
            <Feedback>Here's what I have: [builtin.filledFields]. Is this OK?</Feedback>
        </PromptForInput>

        <!-- Actions -->

        <FormAction type="AddOrUpdate">
            <CodeRecognizer onRun="addOrUpdateRecognizer" />
        </FormAction>
        
        <FormAction type="Confirm">
            <CodeRecognizer onRun="builtin.confirm" />
            <Feedback>OK</Feedback>
        </FormAction>
        
        <FormAction type="Cancel">
            <CodeRecognizer onRun="builtin.cancel"></CodeRecognizer>
            <Feedback>Form canceled!</Feedback>
        </FormAction>

        <FormAction type="Help">
            <CodeRecognizer onRun="builtin.help"></CodeRecognizer>
            <Feedback>So far: [builtin.filledFields]. The following missing are required [builtin.requiredFieldsMissing] and the following are further options: [builtin.optionalFieldsMissing].</Feedback>
        </FormAction>

        <FormAction type="Submit">
            <Process name="process" onRun="func"/>
        </FormAction>

    </Form>

  </AgentDefinition>
</Agent>
