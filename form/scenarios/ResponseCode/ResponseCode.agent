<Agent xmlns:Agent="http://schemas.microsoft.com/ConversationalAgent/1.0">
  <AgentDefinition lang="en-us">
    <About>
      <CodeBehindClass>ResponseCodeAppLogic</CodeBehindClass>
      <CodeBehindNamespace>ResponseCode.Agent</CodeBehindNamespace>
    </About>
    <Task name="task1">
      <CodeRecognizer onRun="hi"></CodeRecognizer>
      <DialogFlow name="Dialog Flow" isRootFlow="true">
        <Transitions initialState="Feedback1">
          <Transition to="Feedback1" from="Start"></Transition>
          <Transition to="Feedback2" from="Feedback1"></Transition>
          <Transition to="Process" from="Feedback2"></Transition>
          <Transition to="Feedback3" from="Process"></Transition>
          <Transition to="Return" from="Feedback3"></Transition>
        </Transitions>
        <Initial name="Start"></Initial>
        <Process name="Process" onRun="processFunc">
        </Process>
        <Respond name="Feedback1">
          <Feedback>a = {a}</Feedback>
        </Respond>
        <Respond name="Feedback2" beforeResponse="responseFunc">
          <Feedback>[Conditional1]</Feedback>
        </Respond>
        <Respond name="Feedback3">
          <Feedback>c = {c} and d = {d}</Feedback>
        </Respond>
        <Return name="Return" outcome="Success"></Return>
      </DialogFlow>
    </Task>
    <ConditionalResponseTemplate name="Conditional1" onRun="conditionalFunc">
      <SwitchCase>
        <Case value="x">
          <Feedback>x</Feedback>
        </Case>
        <Case value="y">
          <Feedback>y</Feedback>
        </Case>
      </SwitchCase>
    </ConditionalResponseTemplate>
  </AgentDefinition>
</Agent>
